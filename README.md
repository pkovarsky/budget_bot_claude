# ๐ฐ Budget Bot

ะฃะผะฝัะน Telegram-ะฑะพั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะปะธัะฝัะผะธ ัะธะฝะฐะฝัะฐะผะธ ั ะฟะพะดะดะตัะถะบะพะน ะะ-ะบะฐัะตะณะพัะธะทะฐัะธะธ ัะฐััะพะดะพะฒ ะธ ะดะพัะพะดะพะฒ.

## ๐ ะะพะทะผะพะถะฝะพััะธ

- **๐ ะะฒัะพะผะฐัะธัะตัะบะฐั ะบะฐัะตะณะพัะธะทะฐัะธั** ััะฐะฝะทะฐะบัะธะน ั ะฟะพะผะพััั OpenAI
- **๐ธ ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ัะตะบะพะฒ** - ะพัะฟัะฐะฒััะต ัะพัะพ ัะตะบะฐ ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะดะพะฑะฐะฒะปะตะฝะธั ัะฐััะพะดะพะฒ
- **๐ฑ ะะพะดะดะตัะถะบะฐ ะฒะฐะปัั**: EUR, USD
- **๐ ะกัะฐัะธััะธะบะฐ** ะฟะพ ะฟะตัะธะพะดะฐะผ (ะดะตะฝั, ะฝะตะดะตะปั, ะผะตััั, ะฒัะต ะฒัะตะผั)
- **๐ ะฃะฟัะฐะฒะปะตะฝะธะต ะบะฐัะตะณะพัะธัะผะธ** ั CRUD ะพะฟะตัะฐัะธัะผะธ
- **๐ณ ะะธะผะธัั ัะฐััะพะดะพะฒ** ั ัะฒะตะดะพะผะปะตะฝะธัะผะธ
- **๐ค ะญะบัะฟะพัั ะดะฐะฝะฝัั** ะฒ Excel ั ะดะตัะฐะปัะฝะพะน ััะฐัะธััะธะบะพะน
- **๐ค ะััะตััะฒะตะฝะฝัะน ัะทัะบ**: "35 ะตะฒัะพ ะฟัะพะดัะบัั" ะธะปะธ "+2000 ััะฑะปะตะน ะทะฐัะฟะปะฐัะฐ"

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
budget_bot_claude/
โโโ bot.py                    # ะัะฝะพะฒะฝะพะน ัะฐะนะป ะทะฐะฟััะบะฐ
โโโ config.py                 # ะะพะฝัะธะณััะฐัะธั
โโโ database.py               # ะะพะดะตะปะธ ะฑะฐะทั ะดะฐะฝะฝัั
โโโ openai_service.py         # ะกะตัะฒะธั OpenAI
โโโ requirements.txt          # ะะฐะฒะธัะธะผะพััะธ
โโโ .env.example              # ะัะธะผะตั ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั
โโโ handlers/                 # ะะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด
โ   โโโ start_handler.py      # /start, /help
โ   โโโ transaction_handler.py # ะะฑัะฐะฑะพัะบะฐ ััะฐะฝะทะฐะบัะธะน
โ   โโโ categories_handler.py  # /categories
โ   โโโ stats_handler.py      # /stats
โ   โโโ limits_handler.py     # /limits
โ   โโโ export_handler.py     # /export
โ   โโโ photo_handler.py      # ๐ธ ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ัะตะบะพะฒ
โโโ utils/                    # ะฃัะธะปะธัั
    โโโ parsers.py           # ะะฐััะธะฝะณ ัะพะพะฑัะตะฝะธะน
```

## ๐ ะฃััะฐะฝะพะฒะบะฐ ะธ ะฝะฐัััะพะนะบะฐ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั

```bash
git clone <repository-url>
cd budget_bot_claude
```

**ะขัะตะฑะพะฒะฐะฝะธั:** Python 3.13 ะธะปะธ ะฝะพะฒะตะต.

### 2. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
pip install -r requirements.txt
```

### 3. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

ะกะบะพะฟะธััะนัะต ัะฐะนะป `.env.example` ะฒ `.env` ะธ ะทะฐะฟะพะปะฝะธัะต ะฝะตะพะฑัะพะดะธะผัะต ะดะฐะฝะฝัะต:

```bash
cp .env.example .env
```

ะััะตะดะฐะบัะธััะนัะต `.env`:

```env
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# OpenAI Configuration  
OPENAI_API_KEY=your_openai_api_key_here

# Database Configuration
DATABASE_URL=sqlite:///budget_bot.db
```

### 4. ะะพะปััะตะฝะธะต API ะบะปััะตะน

#### Telegram Bot Token
1. ะัะบัะพะนัะต [@BotFather](https://t.me/BotFather) ะฒ Telegram
2. ะัะฟัะฐะฒััะต `/newbot`
3. ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ ะธ ะฟะพะปััะธัะต ัะพะบะตะฝ
4. ะััะฐะฒััะต ัะพะบะตะฝ ะฒ `.env`

#### OpenAI API Key
1. ะะฐัะตะณะธัััะธััะนัะตัั ะฝะฐ [OpenAI](https://platform.openai.com/)
2. ะะตัะตะนะดะธัะต ะฒ API Keys
3. ะกะพะทะดะฐะนัะต ะฝะพะฒัะน ะบะปัั
4. ะััะฐะฒััะต ะบะปัั ะฒ `.env`

### 5. ะะฐัััะพะนะบะฐ ะฑะฐะทั ะดะฐะฝะฝัั

#### SQLite (ะฟะพ ัะผะพะปัะฐะฝะธั)
ะะฐะทะฐ ะดะฐะฝะฝัั ัะพะทะดะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต.

#### PostgreSQL (ะพะฟัะธะพะฝะฐะปัะฝะพ)
```bash
# ะฃััะฐะฝะพะฒะบะฐ PostgreSQL
sudo apt-get install postgresql postgresql-contrib

# ะกะพะทะดะฐะฝะธะต ะฑะฐะทั ะดะฐะฝะฝัั
sudo -u postgres createdb budget_bot

# ะะฑะฝะพะฒะธัะต DATABASE_URL ะฒ .env:
DATABASE_URL=postgresql://username:password@localhost/budget_bot
```

#### MySQL (ะพะฟัะธะพะฝะฐะปัะฝะพ)
```bash
# ะฃััะฐะฝะพะฒะบะฐ MySQL
sudo apt-get install mysql-server

# ะกะพะทะดะฐะฝะธะต ะฑะฐะทั ะดะฐะฝะฝัั
mysql -u root -p
CREATE DATABASE budget_bot;

# ะะฑะฝะพะฒะธัะต DATABASE_URL ะฒ .env:
DATABASE_URL=mysql://username:password@localhost/budget_bot
```

### 6. ะะฐะฟััะบ ะฑะพัะฐ

```bash
python bot.py
```

## ๐ฏ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั

- `/start` - ะะฐัะฐัั ัะฐะฑะพัั ั ะฑะพัะพะผ
- `/help` - ะะพะบะฐะทะฐัั ัะฟัะฐะฒะบั
- `/categories` - ะฃะฟัะฐะฒะปะตะฝะธะต ะบะฐัะตะณะพัะธัะผะธ
- `/stats` - ะัะพัะผะพัั ััะฐัะธััะธะบะธ
- `/limits` - ะฃะฟัะฐะฒะปะตะฝะธะต ะปะธะผะธัะฐะผะธ
- `/export` - ะญะบัะฟะพัั ะดะฐะฝะฝัั ะฒ Excel

### ะะพะฑะฐะฒะปะตะฝะธะต ััะฐะฝะทะฐะบัะธะน

#### ะะฐััะพะดั:
```
35 ะตะฒัะพ ะฟัะพะดัะบัั
150 ััะฑะปะตะน ัะฐะบัะธ
20 USD ะบะพัะต
```

#### ะะพัะพะดั:
```
+2000 ะตะฒัะพ ะทะฐัะฟะปะฐัะฐ  
+500 ััะฑะปะตะน ะฟะพะดัะฐะฑะพัะบะฐ
+100 USD ััะธะปะฐะฝั
```

#### ๐ธ ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ัะตะบะพะฒ:
ะัะพััะพ ะพัะฟัะฐะฒััะต ัะพัะพ ัะตะบะฐ ะฒ ัะฐั! ะะ ะฐะฒัะพะผะฐัะธัะตัะบะธ:
- ะะฐัะฟะพะทะฝะฐะตั ะพะฑััั ััะผะผั ะธ ะฒะฐะปััั
- ะะฟัะตะดะตะปะธั ะฝะฐะทะฒะฐะฝะธะต ะผะฐะณะฐะทะธะฝะฐ
- ะะฐัะตะณะพัะธะทะธััะตั ะฟะพะบัะฟะบั
- ะะพะฑะฐะฒะธั ััะฐะฝะทะฐะบัะธั ะฒ ะฒะฐั ะฑัะดะถะตั

**ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั:**
- ะคะพัะพะณัะฐัะธะธ ัะตะบะพะฒ (PNG, JPG)
- ะะพะบัะผะตะฝัั ั ะธะทะพะฑัะฐะถะตะฝะธัะผะธ
- ะะฐะทะผะตั ะดะพ 20MB

### ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั

- **ะะฐะปััั**: ะตะฒัะพ, EUR, โฌ, ะดะพะปะปะฐัั, USD, $
- **ะคะพัะผะฐัั**: 
  - `[ััะผะผะฐ] [ะฒะฐะปััะฐ] [ะพะฟะธัะฐะฝะธะต]`
  - `[ััะผะผะฐ] [ะพะฟะธัะฐะฝะธะต] [ะฒะฐะปััะฐ]`
  - `+[ััะผะผะฐ] [ะฒะฐะปััะฐ] [ะพะฟะธัะฐะฝะธะต]` (ะดะปั ะดะพัะพะดะพะฒ)

## ๐ ะััะธัะตะบัััะฐ

### ะะพะดัะปะธ

- **bot.py** - ะขะพัะบะฐ ะฒัะพะดะฐ, ะฝะฐัััะพะนะบะฐ handlers
- **handlers/** - ะะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด (ัะฐะทะดะตะปะตะฝั ะฟะพ ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ)
- **utils/parsers.py** - ะะฐััะธะฝะณ ัะตะบััะพะฒัั ัะพะพะฑัะตะฝะธะน
- **database.py** - SQLAlchemy ะผะพะดะตะปะธ ะธ ะฝะฐัััะพะนะบะธ ะะ
- **openai_service.py** - ะะฝัะตะณัะฐัะธั ั OpenAI ะดะปั ะบะฐัะตะณะพัะธะทะฐัะธะธ
- **config.py** - ะฃะฟัะฐะฒะปะตะฝะธะต ะบะพะฝัะธะณััะฐัะธะตะน

### ะะฐะทะฐ ะดะฐะฝะฝัั

#### ะะพะดะตะปะธ:
- **User** - ะะพะปัะทะพะฒะฐัะตะปะธ Telegram
- **Category** - ะะฐัะตะณะพัะธะธ ะดะพัะพะดะพะฒ/ัะฐััะพะดะพะฒ
- **Transaction** - ะขัะฐะฝะทะฐะบัะธะธ ั ััะผะผะพะน, ะฒะฐะปััะพะน, ะพะฟะธัะฐะฝะธะตะผ
- **Limit** - ะะธะผะธัั ัะฐััะพะดะพะฒ ะฟะพ ะบะฐัะตะณะพัะธัะผ

## ๐ง ะะฐะทัะฐะฑะพัะบะฐ

### ะะฐะฟััะบ ะฒ ัะตะถะธะผะต ัะฐะทัะฐะฑะพัะบะธ

```bash
# ะก ะดะตัะฐะปัะฝัะผ ะปะพะณะธัะพะฒะฐะฝะธะตะผ
python -u bot.py

# ะะปะธ ัััะฐะฝะพะฒะธัะต ENVIRONMENT=development ะฒ .env
```

### ะกัััะบัััะฐ ะพะฑัะฐะฑะพััะธะบะพะฒ

ะะฐะถะดัะน handler ัะพะดะตัะถะธั:
- ะะฑัะฐะฑะพััะธะบ ะบะพะผะฐะฝะดั
- Callback handlers ะดะปั inline ะบะฝะพะฟะพะบ
- ะะฐะปะธะดะฐัะธั ะธ ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ััะฝะบัะธะน

1. ะกะพะทะดะฐะนัะต ะฝะพะฒัะน handler ะฒ `handlers/`
2. ะะผะฟะพััะธััะนัะต ะฒ `bot.py`
3. ะะฐัะตะณะธัััะธััะนัะต CommandHandler ะฒ `main()`

## ๐ ะัะพะฑะตะฝะฝะพััะธ

### ะะ-ะบะฐัะตะณะพัะธะทะฐัะธั
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะบะฐัะตะณะพัะธะธ ะฟะพ ะพะฟะธัะฐะฝะธั
- ะะฑััะตะฝะธะต ะฝะฐ ัััะตััะฒัััะธั ะบะฐัะตะณะพัะธัั ะฟะพะปัะทะพะฒะฐัะตะปั
- Fallback ะฝะฐ ะบะฐัะตะณะพัะธั "ะัะพัะตะต"

### ะัะปััะธ-ะฒะฐะปััะฝะพััั
- ะะพะดะดะตัะถะบะฐ EUR, USD
- ะะฐะทะดะตะปัะฝะฐั ััะฐัะธััะธะบะฐ ะฟะพ ะฒะฐะปััะฐะผ
- ะะพะฝะฒะตััะฐัะธั ะฝะต ััะตะฑัะตััั

### ะะธะผะธัั ะธ ัะฒะตะดะพะผะปะตะฝะธั
- ะะตัััะฝัะต ะปะธะผะธัั ะฟะพ ะบะฐัะตะณะพัะธัะผ
- ะฃะฒะตะดะพะผะปะตะฝะธั ะฟัะธ 80% ะธ 100% ะปะธะผะธัะฐ
- ะฆะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั ััะฐัััะฐ

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะงะฐัััะต ะพัะธะฑะบะธ

**"ModuleNotFoundError: No module named 'telegram'"**
```bash
pip install python-telegram-bot==20.7
```

**"Invalid token"**
- ะัะพะฒะตัััะต TELEGRAM_BOT_TOKEN ะฒ .env
- ะฃะฑะตะดะธัะตัั, ััะพ ัะพะบะตะฝ ะฟะพะปััะตะฝ ะพั @BotFather

**"OpenAI API error"**
- ะัะพะฒะตัััะต OPENAI_API_KEY ะฒ .env
- ะฃะฑะตะดะธัะตัั, ััะพ ั ะฒะฐั ะตััั ััะตะดััะฒะฐ ะฝะฐ ััะตัั OpenAI

**"Database connection error"**
- ะัะพะฒะตัััะต DATABASE_URL ะฒ .env
- ะฃะฑะตะดะธัะตัั, ััะพ ะฑะฐะทะฐ ะดะฐะฝะฝัั ะดะพัััะฟะฝะฐ

### ะะพะณะธ

ะะพะณะธ ัะพััะฐะฝััััั ะฒ ะบะพะฝัะพะปั. ะะปั ะดะตัะฐะปัะฝะพะณะพ ะฐะฝะฐะปะธะทะฐ ะธัะฟะพะปัะทัะนัะต:

```bash
python bot.py 2>&1 | tee bot.log
```

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. ัะฐะนะป LICENSE

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

1. Fork ัะตะฟะพะทะธัะพัะธั
2. ะกะพะทะดะฐะนัะต feature branch (`git checkout -b feature/amazing-feature`)
3. Commit ะธะทะผะตะฝะตะฝะธั (`git commit -m 'Add amazing feature'`)
4. Push ะฒ branch (`git push origin feature/amazing-feature`)
5. ะกะพะทะดะฐะนัะต Pull Request

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฒะพะฟัะพัะพะฒ ัะพะทะดะฐะนัะต Issue ะฒ ัะตะฟะพะทะธัะพัะธะธ ั ะฟะพะดัะพะฑะฝัะผ ะพะฟะธัะฐะฝะธะตะผ ะฟัะพะฑะปะตะผั.

---

**Budget Bot** - ะฒะฐั ะฟะตััะพะฝะฐะปัะฝัะน ะฟะพะผะพัะฝะธะบ ะฒ ัะฟัะฐะฒะปะตะฝะธะธ ัะธะฝะฐะฝัะฐะผะธ! ๐ฐโจ